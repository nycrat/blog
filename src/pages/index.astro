---
import BaseLayout from "../layouts/BaseLayout.astro";

const posts = Object.values(
	import.meta.glob("./posts/*.{md,mdx}", { eager: true }),
);
---

<BaseLayout pageTitle="Blog Index | blog.nycrat.dev">
	<h1>Index</h1>
	<ul>
		{
			posts
				.toSorted((a: any, b: any) => {
					const dateA = new Date(a.frontmatter.date);
					const dateB = new Date(b.frontmatter.date);
					return dateB.getTime() - dateA.getTime();
				})
				.map((post: any) => (
					<li>
						<a href={post.url}>{post.frontmatter.title}</a>
					</li>
				))
		}
	</ul>
</BaseLayout>
